<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤í„°ë”” ë©”ì´íŠ¸ - í™ˆ</title>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <header>
        <div class="nav-container">
            <a href="{{ url_for('index') }}" class="logo">STUDY MATE</a>

            <nav class="nav-menu">
                <a href="{{ url_for('index') }}">í™ˆ</a>
                <a href="{{ url_for('study') }}">ìŠ¤í„°ë”” ì°¾ê¸°</a>

                {% if user_nickname %}
                <div class="user-dropdown">
                    <button class="user-btn" onclick="toggleDropdown()">
                        {{ user_nickname }} <span class="arrow">â–¾</span>
                    </button>

                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="{{ url_for('mypage') }}">ë§ˆì´í˜ì´ì§€</a>
                        <a href="{{ url_for('my_posts') }}">ë‚´ê°€ ì“´ ê¸€</a>
                        <hr>
                        <a href="{{ url_for('logout') }}">ë¡œê·¸ì•„ì›ƒ</a>
                    </div>
                </div>
                {% else %}
                    <a href="{{ url_for('login') }}">ë¡œê·¸ì¸</a>
                {% endif %}
            </nav>
        </div>
    </header>


    <main>
        <!-- ì„œë¹„ìŠ¤ ì†Œê°œ -->
        <section>
            <h2>ğŸ‘‹ ì„œë¹„ìŠ¤ ì†Œê°œ</h2>
            <p style="font-size: 18px; color: #555;">
                í˜¼ì í•˜ëŠ” ê³µë¶€ê°€ ì§€ì¹˜ì…¨ë‚˜ìš”?<br>
                <strong>ìŠ¤í„°ë”” ë©”ì´íŠ¸</strong>ì—ì„œ ì—´ì •ì ì¸ ë™ë£Œë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”!
            </p>
        </section>

        <!-- ìŠ¤í„°ë”” ì°¸ì—¬ -->
        <section>
            <h2>ğŸ”¥ ìŠ¤í„°ë”” ì°¸ì—¬í•˜ê¸°</h2>

            <div class="study-list">
                {% for study in random_studies %}
                <a href="{{ url_for('study_detail', study_id=study.id) }}"
                style="color: inherit;">
                    <article class="card">
                        <h3>{{ study.title }}</h3>

                        <p>
                            {% if study.content|length > 50 %}
                                {{ study.content[:50] }}...
                            {% else %}
                                {{ study.content }}
                            {% endif %}
                        </p>

                        <span class="tag">{{ study.category }}</span>
                        <span class="tag">ğŸ‘¥ {{ study.member_count }}ëª…</span>
                    </article>
                </a>
                {% endfor %}
            </div>

            {% if random_studies|length == 0 %}
                <p style="color:#888;">ì•„ì§ ë“±ë¡ëœ ìŠ¤í„°ë””ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            {% endif %}
        </section>


        <!-- ìŠ¤í„°ë”” ì‹ ì²­ -->
        <section>
            <h2>ğŸ“ ë°”ë¡œ ì‹ ì²­í•˜ê¸°</h2>
            <form action="#" method="post">
                <div class="input-group">
                    <label>ì´ë¦„</label>
                    <input type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>

                <div class="input-group">
                    <label>ì¹´í…Œê³ ë¦¬</label>
                    <select>
                        <option>ì„ íƒí•´ì£¼ì„¸ìš”</option>

                        <optgroup label="ì·¨ì—… / ì»¤ë¦¬ì–´">
                            <option>ì·¨ì—… ì¤€ë¹„</option>
                            <option>ìì†Œì„œ / í¬íŠ¸í´ë¦¬ì˜¤</option>
                            <option>ë©´ì ‘ ì¤€ë¹„</option>
                            <option>ê³µê¸°ì—… / ê³µì‹œ</option>
                        </optgroup>

                        <optgroup label="ìê²©ì¦">
                            <option>ì»´í“¨í„°í™œìš©ëŠ¥ë ¥</option>
                            <option>í•œêµ­ì‚¬ëŠ¥ë ¥ê²€ì •</option>
                            <option>í† ìµ / í† í”Œ</option>
                            <option>í•œêµ­ì–´ëŠ¥ë ¥ì‹œí—˜</option>
                            <option>ì •ë³´ì²˜ë¦¬ê¸°ì‚¬</option>
                            <option>ê¸°íƒ€ ìê²©ì¦</option>
                        </optgroup>

                        <optgroup label="ì–´í•™ / ì™¸êµ­ì–´">
                            <option>ì˜ì–´ íšŒí™”</option>
                            <option>í† ìµ / í† í”Œ</option>
                            <option>ì˜¤í”½ / ìŠ¤í”¼í‚¹</option>
                            <option>ì¼ë³¸ì–´</option>
                            <option>ì¤‘êµ­ì–´</option>
                            <option>ê¸°íƒ€ ì™¸êµ­ì–´</option>
                        </optgroup>

                        <optgroup label="ìŠµê´€ / ìê¸°ê´€ë¦¬">
                            <option>ê³µë¶€ ì¸ì¦</option>
                            <option>ë£¨í‹´ ê´€ë¦¬</option>
                            <option>ì•„ì¹¨í˜• ì¸ê°„</option>
                            <option>ìš´ë™ ì¸ì¦</option>
                            <option>ì‹ë‹¨ ê´€ë¦¬</option>
                        </optgroup>

                        <optgroup label="IT / ê°œë°œ">
                            <option>ì›¹ ê°œë°œ</option>
                            <option>ì•± ê°œë°œ</option>
                            <option>ì•Œê³ ë¦¬ì¦˜ / ì½”ë”©í…ŒìŠ¤íŠ¸</option>
                            <option>ë°ì´í„° ë¶„ì„</option>
                            <option>AI / ë¨¸ì‹ ëŸ¬ë‹</option>
                            <option>ë³´ì•ˆ / í•´í‚¹</option>
                        </optgroup>

                        <optgroup label="ì·¨ë¯¸ / ê¸°íƒ€">
                            <option>ë…ì„œ</option>
                            <option>í—¬ìŠ¤ / ìš´ë™</option>
                            <option>ëŸ¬ë‹ / ë§ˆë¼í†¤</option>
                            <option>ìš”ê°€ / ìŠ¤íŠ¸ë ˆì¹­</option>
                            <option>ì•…ê¸° ì—°ìŠµ</option>
                            <option>ê·¸ë¦¼ / ë“œë¡œì‰</option>
                            <option>ì‚¬ì§„ / ì˜ìƒ</option>
                            <option>ì¬í…Œí¬ ê³µë¶€</option>
                            <option>ê¸°íƒ€</option>
                        </optgroup>
                    </select>
                </div>

                <button type="button" class="primary-btn">ì‹ ì²­í•˜ê¸°</button>
            </form>
        </section>
    </main>

    <footer>
        <p>Â© 2026 Study Mate. Designed by ê¹€ë…¸í˜„</p>
    </footer>

    <script>
        function toggleDropdown() {
            const menu = document.getElementById('dropdownMenu');
            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
        }

        // ë°”ê¹¥ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function (e) {
            const dropdown = document.querySelector('.user-dropdown');
            const menu = document.getElementById('dropdownMenu');

            if (dropdown && !dropdown.contains(e.target)) {
                menu.style.display = 'none';
            }
        });
    </script>


</body>
</html>