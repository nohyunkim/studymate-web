<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤í„°ë”” ì°¾ê¸° - ìŠ¤í„°ë”” ë©”ì´íŠ¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <header>
        <div class="nav-container">
            <a href="{{ url_for('index') }}" class="logo">STUDY MATE</a>
            <nav class="nav-menu">
                <a href="{{ url_for('index') }}">í™ˆ</a>
                <a href="{{ url_for('study') }}" style="font-weight: bold; color: #007bff;">ìŠ¤í„°ë”” ì°¾ê¸°</a>
                <a href="{{ url_for('login') }}">ë¡œê·¸ì¸</a>
            </nav>
        </div>
    </header>


    <main>
        <section style="text-align: center;">
            <h2>ğŸ” ì›í•˜ëŠ” ìŠ¤í„°ë””ë¥¼ ì°¾ì•„ë³´ì„¸ìš”</h2>
            
            <div class="search-box">
                <input type="text" placeholder="ìŠ¤í„°ë”” ì£¼ì œë‚˜ ì§€ì—­ì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”" style="margin-bottom: 0;">
                <a href="{{ url_for('studywrite') }}" class="write-btn">ëª¨ì§‘í•˜ê¸° âœï¸</a>
            </div>
        </section>

        <section>
            <div class="study-list">
                
                {% for post in pagination.items %}
                <article class="card">
                    <h3>{{ post.title }}</h3>
                    
                    <p style="color: #666; font-size: 14px; margin-bottom: 10px; min-height: 44px;">
                        {% if post.content|length > 50 %}
                            {{ post.content[:50] }}...
                        {% else %}
                            {{ post.content }}
                        {% endif %}
                    </p>
                    
                    <div style="font-size: 12px; color: #888; margin-bottom: 10px;">
                        <span>ğŸ‘‘ {{ post.writer }}</span> | 
                        <span>ğŸ‘¥ {{ post.member_count }}ëª… ëª¨ì§‘</span>
                    </div>

                    <span class="tag">{{ post.category }}</span>
                </article>
                {% endfor %}

                {% if pagination.total == 0 %}
                    <p style="width: 100%; text-align: center; padding: 50px; color: #888;">
                        ì•„ì§ ë“±ë¡ëœ ìŠ¤í„°ë””ê°€ ì—†ìŠµë‹ˆë‹¤. ì²« ë²ˆì§¸ ì£¼ì¸ê³µì´ ë˜ì–´ë³´ì„¸ìš”! ğŸ˜
                    </p>
                {% endif %}
            </div>

            {% if pagination.total > 0 %}
            <div class="pagination">
                {% if pagination.has_prev %}
                    <a href="?page={{ pagination.prev_num }}">&lt;</a>
                {% endif %}

                {% for page_num in pagination.iter_pages() %}
                    {% if page_num %}
                        {% if page_num == pagination.page %}
                            <a href="#" class="active">{{ page_num }}</a> {% else %}
                            <a href="?page={{ page_num }}">{{ page_num }}</a>
                        {% endif %}
                    {% else %}
                        <span>...</span>
                    {% endif %}
                {% endfor %}

                {% if pagination.has_next %}
                    <a href="?page={{ pagination.next_num }}">&gt;</a>
                {% endif %}
            </div>
            {% endif %}

        </section>
    </main>

    <footer>
        <p>Â© 2026 Study Mate. Designed by ê¹€ë…¸í˜„</p>
    </footer>

</body>
</html>